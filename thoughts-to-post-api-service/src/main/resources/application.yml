server:
  port: 8080

spring:
  application:
    name: thoughts-to-post-api-service

  # MongoDB Configuration
  data:
    mongodb:
      uri: mongodb://admin:admin@localhost:27017/thoughtstopost?authSource=admin
      database: thoughtstopost

  # Kafka Configuration
  kafka:
    bootstrap-servers: localhost:9092
    consumer:
      group-id: api-service-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "*"
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer

# Custom Application Properties
app:
  kafka:
    request-topic: thoughts-post-request
    response-topic: thoughts-to-post-response

  # LinkedIn OAuth Configuration
  linkedin:
    client-id: ${LINKEDIN_CLIENT_ID:86xv8cp5m4na0e}
    client-secret: ${LINKEDIN_CLIENT_SECRET:WPL_AP1.U99saLxEyphqWp9S.7SkZOw==}
    redirect-uri: ${LINKEDIN_REDIRECT_URI:http://localhost:8080/api/oauth/linkedin/callback}
    scopes: openid,profile,email,w_member_social
    # For direct posting without OAuth flow (Dev/Test)
    access-token: ${LINKEDIN_ACCESS_TOKEN:}
    user-urn: ${LINKEDIN_USER_URN:}

  # Future: Facebook Configuration
  facebook:
    app-id: ${FACEBOOK_APP_ID:}
    app-secret: ${FACEBOOK_APP_SECRET:}

  # Future: Instagram Configuration
  instagram:
    client-id: ${INSTAGRAM_CLIENT_ID:}
    client-secret: ${INSTAGRAM_CLIENT_SECRET:}

# Actuator endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: when_authorized

# Logging
logging:
  level:
    com.carlev: DEBUG
    org.springframework.kafka: INFO
    org.springframework.data.mongodb: INFO
